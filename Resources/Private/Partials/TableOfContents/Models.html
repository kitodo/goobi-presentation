<f:comment>
<!--
 * (c) Kitodo. Key to digital objects e.V. <contact@kitodo.org>
 *
 * This file is part of the Kitodo and TYPO3 projects.
 *
 * @license GNU General Public License version 3 or later.
 * For the full copyright and license information, please read the
 * LICENSE.txt file that was distributed with this source code.
-->
</f:comment>
<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"
      data-namespace-typo3-fluid="true">

<f:for each="{models}" as="model">  
    <div class="tx-dlf-toc-preview-item">

        <f:if condition="{model.doNotLinkIt}">
            <f:then>
                <f:render partial="TableOfContents/Title" arguments="{model: model}"/>
            </f:then>
            <f:else>
                <f:link.action
                    action="main"
                    pageUid="{settings.targetPid}"
                    additionalParams="{f:if(condition:'{model.id}', then:'{\'tx_dlf[id]\':model.id, \'tx_dlf[page]\':model.page}', else: '{\'tx_dlf[page]\':model.page}')}"
                    addQueryString="1"
                    title="{f:if(condition:'{model.title}', then: '{model.title}', else: '{model.type}')}">
                        <f:render partial="TableOfContents/Model" arguments="{model: model}"/>
                </f:link.action>
            </f:else>
        </f:if>

        <f:if condition="{model_SUB_MENU} && ({model.ITEM_STATE} == 'HEADER')">
            <div class="tx-dlf-toc-preview-items">
                <f:render partial="TableOfContents/Models" arguments="{models: model._SUB_MENU}"/>
            </div>
        </f:if>

    </div>
</f:for>
